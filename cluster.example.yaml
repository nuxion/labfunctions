---
providers:
  local: "labfunctions.cluster.providers.local.LocalProvider"
  gce: "labfunctions.cluster.providers.gcloud.GCEProvider"
clusters:
  default:
    name: default
    provider: "gce"
    machine: "gce-tiny-default"
  gpu:
    name: gpu
    provider: "gce"
    machine: "gce-small-gpu"
  gpu-ubuntu:
    name: gpu-ub
    provider: "gce"
    machine: "gce-small-gpu-ubuntu"
volumes:
  local:
    name: local
    location: home
    size: 10
    kind: 'pd'
    mount: /home/nuxion/data
  gce-boot-small:
    name: gce-boot-small
    image: "nbworker-2022-04-08"
    description: to use as boot disk
    location: "us-central1-c"
    size: 20
    kind: 'pd-standard'
    mount: /
  gce-nvidia:
    name: gce-nvidia
    image: "nvidia-docker-2022-04-25"
    location: "us-east1-c"
    size: 20
    kind: 'pd-standard'
    mount: /
  gce-ubuntu:
    name: gce-ubuntu
    image: "ubuntu-2004-focal-v20220615"
    location: "us-east1-c"
    size: 20
    kind: 'pd-standard'
    mount: /
machines:
  snapshooter:
    name: snap
    desc: Snapshot machine only for disk intialization
    provider: gce
    location: "us-central1-c"
    machine_type:
      size: "e2-micro"
      image: "nbworker-2022-04-08"
      vcpus: 1
    volumes:
      - snapshot-base
  gce-tiny-default:
    name: tiny-cpu
    desc: Tiny cpu machine for gce
    provider: gce
    location: "us-central1-c"
    machine_type:
      size: "e2-micro"
      # image: "debian-11-bullseye-v20220406" # default from gce
      image: "nbworker-2022-04-08"
      vcpus: 1
  gce-tiny-cpu:
    name: tiny-cpu
    desc: Tiny cpu machine for gce
    provider: gce
    location: "us-central1-c"
    machine_type:
      size: "e2-micro"
      image: "nbworker-2022-04-08"
      vcpus: 1
  gce-small-cpu:
    name: gce-small-cpu
    desc: Small cpu machine for gce
    provider: gce
    location: "us-central1-c"
    machine_type:
      size: "e2-small"
      image: "nbworker-2022-04-08"
      vcpus: 2
    # volumes:
    #  - gce-boot-small
  gce-small-gpu:
    name: small-gpu
    desc: "Small GPU Machine for gce"
    machine: gce-small-gpu
    provider: gce
    location: "us-east1-c"
    machine_type:
      size: n1-standard-1
      image: "nvidia-docker-2022-04-25"
    gpu:
      name: tesla
      gpu_type: nvidia-tesla-t4
      count: 1
  gce-small-gpu-ubuntu:
    name: small-gpu-ubuntu
    desc: "Small GPU Machine for gce with ubuntu"
    machine: gce-small-gpu-ubuntu
    provider: gce
    location: "us-east1-c"
    machine_type:
      size: n1-standard-1
      image: "ubuntu-2004-focal-v20220615"
    gpu:
      name: tesla
      gpu_type: nvidia-tesla-t4
      count: 1
    volumes:
      - gce-ubuntu
  local:
    name: local-cpu
    desc: Local machine
    provider: local
    location: "home"
    machine_type:
      size: "s-1vcpu-1gb"
      image: "debian_docker.2021-08-13"
      vcpus: 1
    gpu:
      name: "nvidia"
      gpu_type: "tesla"
      number: 1


